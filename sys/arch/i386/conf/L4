#	$OpenBSD: $
#
# For further information on compiling OpenBSD kernels, see the config(8)
# man page.
#
# For further information on hardware support for this architecture, see
# the intro(4) man page.  For further information about kernel options
# for this architecture, see the options(4) man page.  For an explanation
# of each device driver in this file see the section 4 man page for the
# device.

##
# based on the default OpenBSD kernel configuration
#include		"arch/i386/conf/GENERIC"

machine		i386

##
# L4 build instructions:
#
# Adjust the options below to your environment.
option		L4
makeoptions     L4_BUILDDIR="/home/cc/TU-Berlin/fiasco/l4-svn/src/l4/builddir"
option		L4_MEMSIZE="32"	# Default memory size (in MB).
				# Override with mem=xxx boot parameter.
option		ARCH_x86	# provide L4re with our architecture
option		L4_EXTERNAL_RTC	# use L4re's RTC server
option		L4_TIMECOUNTER	# emulate timer device
option		L4_SERIAL_CONS	# enable serial console

##
# reconfigure some default options
rmoption	APERTURE	# in-kernel aperture driver for XFree86
rmoption	BOOT_CONFIG	# support for boot -c

##
# provide minimal default config based on RAMDISK
option		SMALL_KERNEL
makeoptions	DEBUG="-g"	# enable verbose debugging output
option		DDB		# in-kernel debugger
option		DDB_STRUCT	#    can "show struct"
option		DIAGNOSTIC	# enable extended error-checking
option		RAMDISK_HOOKS
option		MINIROOTSIZE=3800

maxusers	4

option		TIMEZONE=0
option		DST=0

option		INET

option		FFS
option		FFS2

option		CRYPTO

config		bsd	root on rd0a swap on rd0b #and wd0b and sd0b

mainbus0 at root

cpu0		at mainbus?
bios0		at mainbus0
isa0		at mainbus0
npx0		at isa? port 0xf0 irq 13	# math coprocessor
l4ser0		at isa0 port 0x3f8 irq 0	# L4 serial port driver

pseudo-device	loop	1			# network loop device
pseudo-device	rd	1			# ramdisk
pseudo-device	wsmux	2			# mouse/kbd mutliplexer
pseudo-device	crypto	1			# crypto device
